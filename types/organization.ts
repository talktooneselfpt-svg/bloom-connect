/**
 * 事業所データの型定義
 */

import { Timestamp } from "firebase/firestore"

/**
 * 規約同意情報
 */
export interface TermsAgreement {
  version: string // 規約バージョン
  agreedAt: Timestamp // 同意日時
  agreedBy: string // 同意者（ユーザーID）
}

export interface Organization {
  // 基本情報
  id: string // 事業所ID（データベース上の紐付け）
  organizationCode: string // 事業所番号（ログイン用、ユニーク）
  name: string // 事業所名
  nameKana?: string // 事業所名（ひらがな）

  // 所在地情報
  prefecture?: string // 都道府県
  city?: string // 市区町村
  addressLine?: string // 詳細住所
  postalCode?: string // 郵便番号

  // 連絡先情報
  phone: string // 電話番号（必須、緊急時の連絡先）
  email: string // 連絡用メールアドレス（必須、重要なお知らせ送信先）

  // 事業所種別・特性
  organizationType: string // 事業所種別（訪問看護、訪問介護等）
  services?: string[] // 提供サービス一覧

  // 管理者情報
  administratorName: string // 管理者名（責任者の特定）
  administratorEmail?: string // 管理者メールアドレス

  // ブランディング
  logoUrl?: string // ロゴ画像URL（Firebase Storage）

  // 法的・契約情報
  termsAgreement?: TermsAgreement // 規約同意ステータス

  // システム情報
  isActive: boolean // 有効状態
  plan?: string // プラン（free, basic, premium など）
  createdAt: Timestamp // 作成日時
  updatedAt: Timestamp // 更新日時
  createdBy?: string // 作成者
  updatedBy?: string // 更新者
}

/**
 * 事業所種別のカテゴリー定義
 */
export const ORGANIZATION_CATEGORIES = {
  '介護保険サービス - 訪問系': [
    '訪問介護（ホームヘルプ）',
    '訪問入浴介護',
    '訪問看護',
    '訪問リハビリテーション',
    '居宅療養管理指導',
  ],
  '介護保険サービス - 通所系': [
    '通所介護（デイサービス）',
    '通所リハビリテーション（デイケア）',
  ],
  '介護保険サービス - 短期入所系': [
    '短期入所生活介護（福祉系ショートステイ）',
    '短期入所療養介護（医療系ショートステイ）',
  ],
  '介護保険サービス - その他居宅サービス': [
    '福祉用具貸与',
    '特定福祉用具販売',
    '特定施設入居者生活介護（有料老人ホーム等）',
  ],
  '地域密着型サービス - 訪問・通所・複合系': [
    '夜間対応型訪問介護',
    '定期巡回・随時対応型訪問介護看護',
    '地域密着型通所介護',
    '認知症対応型通所介護',
    '小規模多機能型居宅介護',
    '看護小規模多機能型居宅介護（複合型サービス）',
  ],
  '地域密着型サービス - 居住・入所系': [
    '認知症対応型共同生活介護（グループホーム）',
    '地域密着型特定施設入居者生活介護（定員29人以下）',
    '地域密着型介護老人福祉施設入所者生活介護（小規模特養）',
  ],
  '介護保険サービス - 施設系': [
    '介護老人福祉施設（特別養護老人ホーム）',
    '介護老人保健施設（老健）',
    '介護医療院',
  ],
  '介護保険サービス - ケアマネジメント': [
    '居宅介護支援（要介護者のケアプラン作成）',
    '介護予防支援（要支援者のケアプラン作成／地域包括支援センター等）',
    '地域包括支援センター',
  ],
  '障害福祉サービス - 訪問系（総合支援法）': [
    '居宅介護',
    '重度訪問介護',
    '同行援護',
    '行動援護',
    '重度障害者等包括支援',
  ],
  '障害福祉サービス - 日中活動・居住・訓練系': [
    '生活介護',
    '自立訓練（機能）',
    '自立訓練（生活）',
    '自立生活援助',
    '就労移行支援',
    '就労継続支援（A型）',
    '就労継続支援（B型）',
    '就労定着支援',
    '就労選択支援',
    '共同生活援助（グループホーム）',
    '短期入所（児者共通）',
  ],
  '障害福祉サービス - 施設系': [
    '施設入所支援',
    '療養介護',
  ],
  '障害福祉サービス - 相談支援系': [
    '計画相談支援',
    '地域移行支援',
    '地域定着支援',
    '障害児相談支援',
  ],
  '児童福祉法（障害児）': [
    '児童発達支援',
    '放課後等デイサービス',
    '居宅訪問型児童発達支援',
    '保育所等訪問支援',
    '障害児入所施設（福祉型・医療型）',
  ],
  '地域生活支援事業等': [
    '移動支援（ガイドヘルプ）',
    '日中一時支援',
    '地域活動支援センター（Ⅰ型）',
    '地域活動支援センター（Ⅱ型）',
    '地域活動支援センター（Ⅲ型）',
    '訪問入浴サービス',
    '住宅入居等支援（居住サポート）',
  ],
} as const

/**
 * 全事業所種別の一覧（フラット化）
 */
export const ORGANIZATION_TYPES = Object.values(ORGANIZATION_CATEGORIES).flat()

// 都道府県の選択肢
export const PREFECTURES = [
  "北海道",
  "青森県", "岩手県", "宮城県", "秋田県", "山形県", "福島県",
  "茨城県", "栃木県", "群馬県", "埼玉県", "千葉県", "東京都", "神奈川県",
  "新潟県", "富山県", "石川県", "福井県", "山梨県", "長野県",
  "岐阜県", "静岡県", "愛知県", "三重県",
  "滋賀県", "京都府", "大阪府", "兵庫県", "奈良県", "和歌山県",
  "鳥取県", "島根県", "岡山県", "広島県", "山口県",
  "徳島県", "香川県", "愛媛県", "高知県",
  "福岡県", "佐賀県", "長崎県", "熊本県", "大分県", "宮崎県", "鹿児島県",
  "沖縄県"
] as const

export type OrganizationType = typeof ORGANIZATION_TYPES[number]
export type Prefecture = typeof PREFECTURES[number]
