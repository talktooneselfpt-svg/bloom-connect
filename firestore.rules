rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // ===================================
    // テスト用：完全オープン（危険！）
    // セットアップ完了後、すぐに変更してください
    // ===================================

    match /organizations/{orgId} {
      allow read, write: if true;
    }

    match /staff/{staffId} {
      allow read, write: if true;
    }

    match /subscriptions/{subId} {
      allow read, write: if true;
    }

    match /notifications/{notificationId} {
      allow read, write: if true;
    }

    match /userSettings/{userId} {
      allow read, write: if true;
    }

    match /clients/{clientId} {
      allow read, write: if true;
    }

    match /favoriteApps/{userId} {
      allow read, write: if true;
    }

    match /reports/{reportId} {
      allow read, write: if true;
    }

    match /systemSettings/{settingId} {
      allow read, write: if true;
    }

    match /trustedDevices/{deviceId} {
      allow read, write: if true;
    }

    match /billing/{billingId} {
      allow read, write: if false;
    }

    match /errorLogs/{errorId} {
      allow read, write: if false;
    }

    match /systemMetrics/{metricId} {
      allow read, write: if false;
    }

    match /auditLogs/{logId} {
      allow read, write: if false;
    }

    match /{document=**} {
      allow read, write: if false;
    }
  }
}
